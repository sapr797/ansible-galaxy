---
- name: "üèÜ FINAL TEST V2 - Role Orchestrator Deploys Complete Stack"
  hosts: localhost
  gather_facts: yes
  connection: local
  
  vars:
    stack_name: "Production Stack v2.0"
    deployment_timestamp: "{{ ansible_date_time.iso8601 }}"
    
  pre_tasks:
    - name: "üìã Deployment Information"
      debug:
        msg: |
          üöÄ Starting deployment of: {{ stack_name }}
          Time: {{ deployment_timestamp }}
    
  roles:
    - stack_orchestrator_final
  
  post_tasks:
    - name: "üìä Final Deployment Report"
      debug:
        msg: |
          ============================================
          üéâ FINAL DEPLOYMENT REPORT
          ============================================
          
          ‚úÖ –ó–ê–î–ê–ù–ò–ï –í–´–ü–û–õ–ù–ï–ù–û!
          
          –ß—Ç–æ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ:
          1. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ä–æ–ª—å-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (stack_orchestrator_final)
          2. ‚úÖ –†–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞
          3. ‚úÖ –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–æ–ª–∏
          4. ‚úÖ –í—Å–µ —Ä–æ–ª–∏ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
          
          –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–æ–ª–∏ (4):
          1. postgres     - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
          2. nginx        - –í–µ–±-—Å–µ—Ä–≤–µ—Ä Nginx
          3. app          - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
          4. lighthouse   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Lighthouse
          
          –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
          - –í—Å–µ–≥–æ —Ä–æ–ª–µ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ: 5
          - –†–æ–ª–µ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 4
          - –í—Ä–µ–º—è: {{ deployment_timestamp }}
          
          –í—ã–≤–æ–¥: –°—Ü–µ–Ω–∞—Ä–∏–π –≤–Ω—É—Ç—Ä–∏ —Ä–æ–ª–∏ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —Å—Ç–µ–∫
          –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≤—Å–µ—Ö —Ä–æ–ª–µ–π –ø—Ä–æ–µ–∫—Ç–∞!
          ============================================
