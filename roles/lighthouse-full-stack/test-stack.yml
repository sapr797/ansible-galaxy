---
- name: "ğŸš€ Test Full Stack Deployment"
  hosts: localhost
  connection: local
  gather_facts: no
  
  vars:
    stack_name: "Lighthouse Stack"
    environment: "test"
    
  tasks:
    - name: "ğŸ“‹ Show deployment info"
      debug:
        msg: "Starting deployment of '{{ stack_name }}' in {{ environment }} environment"
    
    - name: "ğŸ”„ Simulate database deployment"
      debug:
        msg: "Deploying database layer..."
      register: db_result
    
    - name: "ğŸŒ Simulate web server deployment"
      debug:
        msg: "Deploying web server layer..."
      when: db_result is succeeded
    
    - name: "ğŸš€ Simulate application deployment"
      debug:
        msg: "Deploying application layer..."
    
    - name: "âœ… Deployment complete"
      debug:
        msg: |
          ğŸ‰ Stack '{{ stack_name }}' deployed successfully!
          
          Components:
          - Database: âœ“
          - Web Server: âœ“
          - Application: âœ“
          
          Timestamp: {{ ansible_date_time.iso8601 }}
